

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic Factor-Tilted Portfolio with Macro Stress Testing &mdash; Dynamic Factor-Tilted Portfolio with Macro Stress Testing 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=359c27e9"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Factor Data Module" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            Dynamic Factor-Tilted Portfolio with Macro Stress Testing
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Factor Data Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-macro">Market Regime Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-portfolio">Portfolio Construction Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-main">Main Analysis Script</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Dynamic Factor-Tilted Portfolio with Macro Stress Testing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Dynamic Factor-Tilted Portfolio with Macro Stress Testing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dynamic-factor-tilted-portfolio-with-macro-stress-testing">
<h1>Dynamic Factor-Tilted Portfolio with Macro Stress Testing<a class="headerlink" href="#dynamic-factor-tilted-portfolio-with-macro-stress-testing" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>This project dynamically constructs a factor-tilted portfolio using the Fama–French 5 Factor model.
The historical factor data is sourced directly from Kenneth French’s website via web scraping.
The portfolio adjusts its weights based on the current market regime (determined via SPY’s volatility and moving averages) and undergoes stress testing with various scenarios.</p>
<p>Features:
- <strong>Market Regime Analysis:</strong> Uses SPY’s rolling volatility and moving averages.
- <strong>Dynamic Factor Tilting:</strong> Adjusts portfolio weights based on the regime.
- <strong>Risk Analysis:</strong> Calculates volatility, Sharpe ratio, VaR, CVaR, maximum drawdown, skewness, and kurtosis.
- <strong>Stress Testing:</strong> Evaluates performance under hypothetical adverse scenarios.
- <strong>Automated Documentation:</strong> Builds a static site with Sphinx.
- <strong>GitHub Pages Deployment:</strong> Automatically updates the site on a weekly schedule.</p>
</section>
<section id="portfolio-performance">
<h2>Portfolio Performance<a class="headerlink" href="#portfolio-performance" title="Permalink to this heading"></a></h2>
<img alt="Portfolio Returns Plot" class="align-center" src="_images/portfolio_returns.png" />
</section>
<section id="risk-metrics">
<h2>Risk Metrics<a class="headerlink" href="#risk-metrics" title="Permalink to this heading"></a></h2>
<p>The following individual plots display the risk metrics computed for both the baseline portfolio and under different stress scenarios.</p>
<img alt="Annualized Volatility" class="align-center" src="_images/annualized_volatility.png" />
<img alt="Sharpe Ratio" class="align-center" src="_images/sharpe_ratio.png" />
<img alt="VaR (95%)" class="align-center" src="_images/var_95.png" />
<img alt="CVaR (95%)" class="align-center" src="_images/cvar_95.png" />
<img alt="Maximum Drawdown" class="align-center" src="_images/maximum_drawdown.png" />
<img alt="Skewness" class="align-center" src="_images/skewness.png" />
<img alt="Kurtosis" class="align-center" src="_images/kurtosis.png" />
</section>
<section id="how-it-works">
<h2>How It Works<a class="headerlink" href="#how-it-works" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p><strong>Data and Factor Computation:</strong>
The project scrapes Kenneth French’s [data library](<a class="reference external" href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html</a>)
to locate and download the “F-F Research Data 5 Factors 2x3 Daily” dataset.
Data is parsed and converted from percentages to decimals.</p></li>
<li><p><strong>Market Regime Analysis:</strong>
SPY’s historical data is used to compute:
- A 30-day rolling annualized volatility.
- 50-day and 200-day moving averages.</p>
<p>These metrics are then used to classify the market into regimes such as Expansion, Recession, Contraction, or Recovery.</p>
</li>
<li><p><strong>Dynamic Portfolio Construction:</strong>
Based on the regime, the portfolio tilts its exposure among five factors (MKT, SMB, HML, RMW, CMA).</p></li>
<li><p><strong>Risk Analysis and Stress Testing:</strong>
Risk metrics (annualized volatility, Sharpe ratio, VaR, CVaR, etc.) are computed for the portfolio under normal conditions and simulated stress scenarios.</p></li>
</ol>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Factor Data Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#factors.download_fama_french_5_factors"><code class="docutils literal notranslate"><span class="pre">download_fama_french_5_factors()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#factors.get_fama_french_5_factor_url"><code class="docutils literal notranslate"><span class="pre">get_fama_french_5_factor_url()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-macro">Market Regime Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#macro.analyze_market_regime"><code class="docutils literal notranslate"><span class="pre">analyze_market_regime()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#macro.define_stress_scenarios"><code class="docutils literal notranslate"><span class="pre">define_stress_scenarios()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-portfolio">Portfolio Construction Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#portfolio.calculate_risk_metrics"><code class="docutils literal notranslate"><span class="pre">calculate_risk_metrics()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#portfolio.construct_portfolio"><code class="docutils literal notranslate"><span class="pre">construct_portfolio()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#portfolio.stress_test_portfolio"><code class="docutils literal notranslate"><span class="pre">stress_test_portfolio()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-main">Main Analysis Script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#main.generate_individual_metric_plots"><code class="docutils literal notranslate"><span class="pre">generate_individual_metric_plots()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#main.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-right" title="Factor Data Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>